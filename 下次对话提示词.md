# 考研数学学习助手 - 下次对话提示词

## 项目状态：v3.5.0 已发布

### 当前进度
- **Phase 1-21**: 全部完成 (100%)
- **Phase 22**: 待开发
- **总进度**: 21/22 阶段完成 (95%)

---

## 本次对话进度

### Phase 21: 题库扩充系统 - 已完成 ✅

#### 完成内容
1. **数据管理器扩展** (`js/data-manager.js` +270行)
   - 创建 `questionBankManager` 对象
   - 题目CRUD：saveQuestion/saveQuestions/getQuestion/deleteQuestion
   - 分页查询：getQuestions(filter, pagination)
   - 收藏功能：toggleFavorite/isFavorite
   - 统计信息：getStats()
   - 导入导出：import/export

2. **题目模板系统** (`js/question-template.js` 300行新建)
   - `QuestionTemplateSystem` 对象
   - 参数化模板：极限、导数、积分、行列式、矩阵、概率
   - 随机数值替换和答案自动计算
   - 选择题干扰项生成
   - 批量生成：generateBatch(config)
   - 初始化题库：initializeQuestionBank(200)

3. **AI批量生成系统** (`js/practice-module.js` +150行)
   - `startBatchGenerate()` 异步批量生成
   - 进度条实时显示
   - JSON格式解析和验证
   - 生成题目自动保存

4. **题库管理界面** (`js/practice-module.js` +470行)
   - 作为"练习测试"页面的新标签页"题库管理"
   - 题库统计卡片（总题数/各科目/收藏数）
   - 操作按钮栏（批量生成/模板生成/初始化/导入导出）
   - 多维筛选器（学科/难度/题型/来源/关键词/收藏）
   - 题目列表（分页/预览/标签）
   - 操作：收藏/查看详情/练习/删除
   - 分页组件

5. **CSS样式** (`css/styles.css` +150行)
   - 题库管理完整样式
   - 模态框、进度条、分页等组件

---

## 下一步工作

### Phase 22: PWA离线支持 - 待开发
1. **Service Worker** - 实现静态资源缓存
2. **离线功能** - 支持离线浏览和做题
3. **Web App Manifest** - 添加桌面图标和启动画面
4. **安装引导** - 提示用户添加到桌面

---

## 项目结构

```
d:\Documents\Coding\Claude Code\math\
├── 考研数学一模拟题.html      # 重定向页面
├── 考研数学学习助手.html      # 主页面 (211行)
├── js/
│   ├── ai-adapter.js          # AI适配器 (468行)
│   ├── data-manager.js        # 数据管理器 (678行) [+270行]
│   ├── question-template.js   # 题目模板系统 (300行) [新建]
│   ├── knowledge-data.js      # 知识点数据 (~4862行)
│   ├── knowledge-module.js    # 知识点功能 (616行)
│   ├── plan-module.js         # 学习规划 (~1505行)
│   ├── calendar-module.js     # 日历组件 (410行)
│   ├── review-scheduler.js    # 复习调度器 (~300行)
│   ├── real-exam-data.js      # 历年真题数据 (~280行)
│   ├── real-exam-module.js    # 历年真题模块 (~560行)
│   ├── diagnosis-module.js    # 弱项诊断模块 (~257行)
│   ├── exam-module.js         # 模拟考试逻辑 (980行)
│   ├── dashboard-module.js    # 首页仪表板 (481行)
│   ├── practice-module.js     # 练习测试 (1413行) [+620行]
│   ├── ai-tutor-module.js     # AI助教 (722行)
│   ├── statistics-module.js   # 学习统计 (729行)
│   └── settings-module.js     # 设置模块 (793行)
├── data/
│   ├── real-exam-2024.json     # 2024年真题模拟数据
│   ├── real-exam-2023.json     # 2023年真题模拟数据
│   └── real-exam-2022.json     # 2022年真题模拟数据
├── scripts/
│   └── validate_real_exam.js    # 真题数据验证脚本
├── css/
│   ├── styles.css             # 公共样式 (~5930行) [+150行]
│   └── exam.css               # 模拟考试样式 (884行)
├── 考研真题\
│   ├── 1987-2022数一真题合集.pdf
│   ├── 1987-2022数一答案.pdf
├── 开发进度.md               # 开发追踪文档
└── 下次对话提示词.md         # 本文件
```

---

## 已完成功能总览

| 模块 | 状态 | 说明 |
|------|------|------|
| 基础框架 | ✅ | 左右布局、视图切换、数据管理 |
| 多模型适配 | ✅ | Claude/Deepseek/智谱/OpenAI兼容 |
| 知识点学习 | ✅ | 98个知识点、AI详解、互动提问 |
| 学习规划 | ✅ | 三阶段计划、AI调整、每日任务 |
| 首页仪表板 | ✅ | 进度图表、今日任务、快捷入口 |
| 练习测试 | ✅ | 专项练习、错题本、AI生成题目 |
| AI助教 | ✅ | 多轮对话、公式输入、图片上传 |
| 学习统计 | ✅ | 多维图表、学习报告、数据导出 |
| 设置管理 | ✅ | AI配置、数据导入导出、清空 |
| 界面优化 | ✅ | 新手引导、AI状态指示、动画效果 |
| 模拟考试 | ✅ | 一键换题、批量生成、进度显示 |
| 全年日历 | ✅ | 月历视图、任务标记、日期详情 |
| 遗忘曲线复习 | ✅ | 艾宾浩斯算法、自动触发、质量评估 |
| 历年真题框架 | ✅ | 年份选择、考试模式、成绩分析 |
| 历年真题数据 | ✅ | 2024/2023/2022年模拟题数据+验证脚本 |
| 历年真题导入 | ✅ | PDF自动导入、半自动解析、数据验证 |
| 弱项诊断系统 | ✅ | 智能分析算法、可视化报告、针对性练习 |
| 题库扩充系统 | ✅ | 模板生成、AI批量生成、题库管理界面 |

---

## 待开发功能

| Phase | 功能 | 优先级 | 预计代码量 | 状态 |
|-------|------|--------|-----------|------|
| 22 | PWA离线支持 | 低 | ~300行 | 待开发 |

---

## 开发建议

1. **Phase 22 PWA离线支持** - 后续可选
   - 创建 sw.js 和 manifest.json
   - 实现静态资源缓存
   - 添加安装提示

2. **代码简化** - 使用 code-simplifier
   - 每个Phase完成后可用code-simplifier简化代码
   - 保持代码清晰、一致、可维护

3. **回答语言** - 使用中文
   - 所有对话回复必须使用中文
   - 代码注释和文档使用中文
   - 保持与用户沟通的一致性

---

## 项目代码统计

### 当前代码量
- **JavaScript**: ~17,000行 (新增~1000行题库系统)
- **CSS**: ~6,950行
- **HTML**: ~500行
- **JSON**: ~600行 (真题数据)
- **Python**: ~400行 (导入脚本)
- **总计**: ~25,450行

### 新增规划代码量
- **Phase 22**: ~300行
- **预计总计**: ~25,750行

---

**最后更新**: 2026-01-11
**版本**: v3.5.0 (Phase 21 已完成)
